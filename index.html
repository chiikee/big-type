<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BigType</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #000;
            color: #fff;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #big-type-input {
            width: 100vw;
            height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            word-wrap: break-word;
            overflow-wrap: break-word;
            white-space: pre-wrap;
            border: none;
            outline: none;
            font-family: system-ui, -apple-system, sans-serif;
            font-weight: 800;
            /* Critical for the logic */
            line-height: 1.1;
        }

        /* Hide placeholder when text is entered */
        [contenteditable]:empty:before {
            content: "Type...";
            color: #555;
        }
    </style>
</head>

<body>

    <div id="big-type-input" contenteditable="true" spellcheck="false"></div>

    <script>
        const display = document.getElementById('big-type-input');

        function resizeText() {
            let min = 1;
            let max = 1000; // Maximum font size in px
            let optimal = 1;

            // Visual Viewport API is more accurate for mobile keyboards
            const vh = window.visualViewport ? window.visualViewport.height : window.innerHeight;
            const vw = window.visualViewport ? window.visualViewport.width : window.innerWidth;

            while (min <= max) {
                const mid = Math.floor((min + max) / 2);
                display.style.fontSize = mid + 'px';

                // Check if the content fits within the viewport dimensions
                if (display.scrollHeight <= vh && display.scrollWidth <= vw) {
                    optimal = mid;
                    min = mid + 1;
                } else {
                    max = mid - 1;
                }
            }
            display.style.fontSize = optimal + 'px';
        }

        // Listen for typing, resizing, and viewport changes (keyboard pop-up)
        display.addEventListener('input', resizeText);
        window.addEventListener('resize', resizeText);
        if (window.visualViewport) {
            window.visualViewport.addEventListener('resize', resizeText);
        }

        // Initial call
        resizeText();
    </script>
</body>

</html>